<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="../css/jquery.dataTables.css">
    <script src="../js/jquery.js"></script>
    <script src="../js/jquery.dataTables.js"></script>
</head>
<body>
    <div class="dataTables_wrapper">
        <table class="dataTable cell-border" id="demo2">
            <thead>
                <tr>
                    <th rowspan="2">名称</th>
                    <th colspan="2">名称</th>
                    <th colspan="2">名称</th>
                </tr>
                <tr>
                    <th >1</th>
                    <th >2</th>
                    <th >3</th>
                    <th >4</th>
                </tr>
                <tr>
                    <th><input type="checkbox" name="checkList"></th>
                    <th>商品名称</th>
                    <th>商品名称</th>
                    <th>商品名称</th>
                    <th>商品名称</th>
                </tr>            
            </thead>
            <tbody>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                <tr>
                    <td class="dt-center"><input type="checkbox" name="checkList"></td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                    <td class="dt-center">万店联盟</td>
                </tr>
                
            </tbody>
            <tfoot>

            </tfoot>
        </table>
        <div class="dataTables_paginate">
            <div class="paginate_button"></div>
            <div class="paginate_button"></div>
        </div>
    </div>





<script>
    $(function(){

        $('#demo2').DataTable( {
                "bFilter": true,//列筛选，就是搜索功能
                "oLanguage": {
                "sLengthMenu": "每页显示 _MENU_ 条记录",
                "sZeroRecords": "抱歉， 没有找到",
                "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录。",
                "sInfoEmpty": "没有数据",
                "sInfoFiltered": "(从 _MAX_ 条数据中检索)",
                "oPaginate": {
                "sFirst": "首页",
                "sPrevious": "前一页",
                "sNext": "后一页",
                "sLast": "尾页"
                },
                "scrollY": "100px",
                "columnDefs": [
                   {
                       orderable: false,
 
                       targets: 0 },
                   {
                       orderable: false,
 
                       targets: 1 }
               ],//第一列与第二列禁止排序
                "lengthMenu": [
                   [8, 6, 8, -1],
                   [4, 6, 8, "All"]
               ],//每页显示条数设置
                "aLengthMenu": [[10, 15, 50, -1], [10, 15, 50, "All"]],
                "sZeroRecords": "没有检索到数据",
                "sProcessing": "<img src='./loading.gif' />"
                }
            });


        var table = $('#demo21').DataTable({
               "dom": '<"top"f >rt<"bottom"ilp><"clear">',//dom定位
               "dom": 'tiprl',//自定义显示项
               //"dom":'<"domab"f>',
               "scrollY": "220px",//dt高度
               "lengthMenu": [
                   [8, 6, 8, -1],
                   [4, 6, 8, "All"]
               ],//每页显示条数设置
               "lengthChange": false,//是否允许用户自定义显示数量
               "bPaginate": true, //翻页功能
               "bFilter": false, //列筛序功能
               "searching": true,//本地搜索
               "ordering": true, //排序功能
               "Info": true,//页脚信息
               "autoWidth": true,//自动宽度
               "oLanguage": {//国际语言转化
                   "oAria": {
                       "sSortAscending": " - click/return to sort ascending",
                       "sSortDescending": " - click/return to sort descending"
                   },
                   "sLengthMenu": "显示 _MENU_ 记录",
                   "sZeroRecords": "对不起，查询不到任何相关数据",
                   "sEmptyTable": "未有相关数据",
                   "sLoadingRecords": "正在加载数据-请等待...",
                   "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录。",
                   "sInfoEmpty": "当前显示0到0条，共0条记录",
                   "sInfoFiltered": "（数据库中共为 _MAX_ 条记录）",
                   "sProcessing": "<img src='../resources/user_share/row_details/select2-spinner.gif'/> 正在加载数据...",
                   "sSearch": "模糊查询：",
                   "sUrl": "",
                   //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                   "oPaginate": {
                       "sFirst": "首页",
                       "sPrevious": " 上一页 ",
                       "sNext": " 下一页 ",
                       "sLast": " 尾页 "
                   }
               },
 
               "columnDefs": [
                   {
                       orderable: false,
 
                       targets: 0 },
                   {
                       orderable: false,
 
                       targets: 1 }
               ],//第一列与第二列禁止排序
 
               "order": [
                   [0, null]
               ],//第一列排序图标改为默认
               initComplete: function () {//列筛选
                   var api = this.api();
                   api.columns().indexes().flatten().each(function (i) {
                       if (i != 0 && i != 1) {//删除第一列与第二列的筛选框
                           var column = api.column(i);
                           var $span = $('<span class="addselect">▾</span>').appendTo($(column.header()))
                           var select = $('<select><option value="">All</option></select>')
                                   .appendTo($(column.header()))
                                   .on('click', function (evt) {
                                       evt.stopPropagation();
                                       var val = $.fn.dataTable.util.escapeRegex(
                                               $(this).val()
                                       );
                                       column
                                               .search(val ? '^' + val + '$' : '', true, false)
                                               .draw();
                                   });
                           column.data().unique().sort().each(function (d, j) {
                               function delHtmlTag(str) {
                                   return str.replace(/<[^>]+>/g, "");//去掉html标签
                               }
 
                               d = delHtmlTag(d)
                               select.append('<option value="' + d + '">' + d + '</option>')
                               $span.append(select)
                           });
 
                       }
                   });
 
               }
 
           });
    })
</script>
</body>
</html>